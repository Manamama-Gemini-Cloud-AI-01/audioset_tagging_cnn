

Emotion detection of the chunks listed in: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_transcription_media_chunks.scp...
We are passing this list of files in the Kaldi format to the model: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_transcription_media_chunks.scp
Running in online mode. Model will be downloaded if not in cache.
Attempting to load model online: iic/emotion2vec_plus_large
funasr version: 1.2.7.
Check update of funasr, and it would cost few times. You may disable it by set `disable_update=True` in AutoModel
You are using the latest version of funasr-1.2.7
Downloading Model from https://www.modelscope.cn to directory: /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large
WARNING:root:trust_remote_code: False
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.blocks.0.0.weight, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.blocks.0.0.bias, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.blocks.1.0.weight, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.blocks.1.0.bias, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.blocks.2.0.weight, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.blocks.2.0.bias, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.blocks.3.0.weight, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.blocks.3.0.bias, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.proj.weight, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
Warning, miss key in ckpt: modality_encoders.AUDIO.decoder.proj.bias, /home/zezen/.cache/modelscope/hub/models/iic/emotion2vec_plus_large/model.pt
rtf_avg: 0.580: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 3/3 [00:30<00:00, 10.31s/it]
Debug info: They should be equal:
3 - the number of the sentences in the TSV file with the media chunks.
3 - the number of the results in the rec_result dictionary of the emotions detected by the funasr model.
Sentence: There was that ant that stood up to me. Yeah, but we can forget about him. Yeah, it was just one ant. One ant. You're right. It's just one ant. Yeah, boys, they're puny. Puny? Say, let's pretend this brain is a puny little ant. Did that hurt? Nope. Well, how about this one?
, ÁîüÊ∞î/angry, 0.000
, ÂéåÊÅ∂/disgusted, 0.000
, ÊÅêÊÉß/fearful, 0.000
, ÂºÄÂøÉ/happy, 1.000
, ‰∏≠Á´ã/neutral, 0.000
, ÂÖ∂‰ªñ/other, 0.000
, ÈöæËøá/sad, 0.000
, ÂêÉÊÉä/surprised, 0.000
, <unk>, 0.000
Sentence: Are you kidding? How about this?
, ÁîüÊ∞î/angry, 0.002
, ÂéåÊÅ∂/disgusted, 0.027
, ÊÅêÊÉß/fearful, 0.002
, ÂºÄÂøÉ/happy, 0.924
, ‰∏≠Á´ã/neutral, 0.006
, ÂÖ∂‰ªñ/other, 0.000
, ÈöæËøá/sad, 0.004
, ÂêÉÊÉä/surprised, 0.015
, <unk>, 0.021
Sentence: You let one ant stand up to us, then they all might stand up. Those puny little ants outnumber us a hundred to one. And if they ever figure that out, there goes our way of life. It's not about food. It's about keeping those ants in line.
, ÁîüÊ∞î/angry, 0.997
, ÂéåÊÅ∂/disgusted, 0.001
, ÊÅêÊÉß/fearful, 0.000
, ÂºÄÂøÉ/happy, 0.001
, ‰∏≠Á´ã/neutral, 0.000
, ÂÖ∂‰ªñ/other, 0.000
, ÈöæËøá/sad, 0.001
, ÂêÉÊÉä/surprised, 0.000
, <unk>, 0.000

Initiating Final Video Generation...

Stage: Generating Emotion Heatmap Overlay Video
‚úÖ Using system font 'Noto Sans CJK JP' found via fontconfig.
QApplication: invalid style override 'adwaita' passed, ignoring it.
	Available styles: Windows, Fusion
Saved emotion heatmap image to: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_emotion_heatmap.png
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_heatmap_video.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_heatmap_videoTEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_heatmap_video.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_heatmap_video.mp4
Saved animated heatmap video to: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_heatmap_video.mp4

üé¨  Source is a video file. Overlaying heatmap...
‚è≤  üóÉÔ∏è  Input file duration: 0:01:06
üÆ≤  üóÉÔ∏è  Input video FPS (avg): 24.991
üìΩ  üóÉÔ∏è  Input video resolution: 1280x720
‚è≤  üóÉÔ∏è  Input file duration: 0:01:06
üÆ≤  üóÉÔ∏è  Input video FPS (avg): 24.000
üìΩ  üóÉÔ∏è  Input video resolution: 1280x480
üéØ Target resolution: 1280x720
‚úÖ üé• Final overlaid video saved to: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_emotion_overlay.mp4

The above results are also saved as JSON (e.g. for AIs to process) to: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_transcription_emotions.json
AI-friendly flattened JSON saved to: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_transcription_emotions_ai_friendly.json
The above results are also saved as HTML to: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_transcription_emotions.html

Opening the result /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_transcription_emotions.html in the default browser. It may also take some time and it may fail if there is no default browser or the filename has weird characters. 


The Run Tracker status quo: {'whisperx_transcription': 'completed'}

Whisperx pass: alignment

We are starting alignment of the source file using the language: en ...
Progress: 33.33%...
Progress: 66.67%...
Progress: 100.00%...
Debug info: we have created:  1_Bugs_Life_original_alignment.srt, 1_Bugs_Life_original_alignment.tsv, 1_Bugs_Life_original_alignment.json
The Run Tracker status quo: {'whisperx_transcription': 'completed', 'whisperx_alignment': 'completed'}

Whisperx pass: diarization
For the diarization step we are using this alignment_result_file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_alignment.json
2025-10-27 15:57:34 - whisperx.diarize - INFO - Loading diarization model: pyannote/speaker-diarization-3.1
Min speakers: None
Max speakers: None
Debugging info: the diarize_segments and speakers found:
                              segment label     speaker      start        end  intersection      union
0   [ 00:00:00.604 -->  00:00:02.950]     A  SPEAKER_02   0.604719   2.950344    -62.520656  65.748281
1   [ 00:00:03.152 -->  00:00:09.126]     B  SPEAKER_00   3.152844   9.126594    -56.344406  63.200156
2   [ 00:00:09.835 -->  00:00:10.915]     C  SPEAKER_00   9.835344  10.915344    -54.555656  56.517656
3   [ 00:00:10.915 -->  00:00:16.112]     D  SPEAKER_01  10.915344  16.112844    -49.358156  55.437656
4   [ 00:00:16.197 -->  00:00:22.862]     E  SPEAKER_02  16.197219  22.862844    -42.608156  50.155781
5   [ 00:00:23.858 -->  00:00:27.452]     F  SPEAKER_02  23.858469  27.452844    -38.018156  42.494531
6   [ 00:00:28.195 -->  00:00:29.984]     G  SPEAKER_02  28.195344  29.984094    -35.486906  38.157656
7   [ 00:00:29.984 -->  00:00:30.034]     H  SPEAKER_01  29.984094  30.034719    -35.436281  36.368906
8   [ 00:00:30.220 -->  00:00:30.237]     I  SPEAKER_01  30.220344  30.237219    -35.233781  36.132656
9   [ 00:00:30.237 -->  00:00:32.312]     J  SPEAKER_02  30.237219  32.312844    -33.158156  36.115781
10  [ 00:00:32.312 -->  00:00:32.397]     K  SPEAKER_01  32.312844  32.397219    -33.073781  34.040156
11  [ 00:00:45.171 -->  00:01:06.079]     L  SPEAKER_03  45.171594  66.079719      0.608719  21.181406
Debug info: we have created:  1_Bugs_Life_original_diarization.srt, 1_Bugs_Life_original_diarization.tsv, 1_Bugs_Life_original_diarization.json
Debug info: the dataframe with the list of the speakers: 
0     SPEAKER_02
1     SPEAKER_00
2     SPEAKER_00
3     SPEAKER_00
4     SPEAKER_00
5     SPEAKER_01
6     SPEAKER_01
7     SPEAKER_02
8     SPEAKER_02
9     SPEAKER_02
10    SPEAKER_02
11    SPEAKER_02
12    SPEAKER_02
13    SPEAKER_02
14    SPEAKER_03
15    SPEAKER_03
16    SPEAKER_03
17    SPEAKER_03
18    SPEAKER_03
Name: speaker, dtype: object

Stage: Extracting (chunking) the media segments from the original file, as per the TSV file with the sentence timestamps
Loading the media file:  /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4 and chunking it as per the data created at pass: diarization
This may take some time, especially for larger files. You may use 'gnome-system-monitor', 'gotop' or the like tools to check the RAM and CPU usage of the Operating System. Once the file is loaded, we shall slice it into segments based on the timestamps provided in the TSV file.

* Ballpark figure what to expect: on a 3 GHz CPU, with 8 GB RAM, notebook it takes twice as much time to chunk the input media file as the file duration.
Number of lines in the TSV file that shall be processed: 19
Loading as media type: Video
Loaded media file in 0.22 seconds.
460 - Duration (ms) in the TSV file segment 10: - Start Time (ms): 24021, End Time (ms): 24481, which is too short, so:
1441 - is the new value of Duration that we have fixed the original duration to.

Segment 1 out of 19: Duration (sec): 3.224, Start Time (sec): 0.031, End Time (sec): 3.255 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_001.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_001TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_001.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_001.mp4
Segment 001 out of 19 , saved in (sec): 2.59. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_001.mp4

Segment 2 out of 19: Duration (sec): 2.543, Start Time (sec): 3.275, End Time (sec): 5.818 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_002.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_002TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_002.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_002.mp4
Segment 002 out of 19 , saved in (sec): 2.07. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_002.mp4

Segment 3 out of 19: Duration (sec): 2.483, Start Time (sec): 5.838, End Time (sec): 8.321 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_003.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_003TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_003.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_003.mp4
Segment 003 out of 19 , saved in (sec): 2.19. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_003.mp4

Segment 4 out of 19: Duration (sec): 2.163, Start Time (sec): 8.341, End Time (sec): 10.504 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_004.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_004TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_004.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_004.mp4
Segment 004 out of 19 , saved in (sec): 2.07. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_004.mp4

Segment 5 out of 19: Duration (sec): 0.601, Start Time (sec): 10.524, End Time (sec): 11.125 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_005.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_005TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_005.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_005.mp4
Segment 005 out of 19 , saved in (sec): 0.65. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_005.mp4

Segment 6 out of 19: Duration (sec): 1.562, Start Time (sec): 11.505, End Time (sec): 13.067 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_006.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_006TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_006.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_006.mp4
Segment 006 out of 19 , saved in (sec): 1.49. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_006.mp4

Segment 7 out of 19: Duration (sec): 2.083, Start Time (sec): 13.928, End Time (sec): 16.011 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_007.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_007TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_007.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_007.mp4
Segment 007 out of 19 , saved in (sec): 2.06. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_007.mp4

Segment 8 out of 19: Duration (sec): 0.521, Start Time (sec): 17.012, End Time (sec): 17.533 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_008.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_008TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_008.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_008.mp4
Segment 008 out of 19 , saved in (sec): 0.55. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_008.mp4

Segment 9 out of 19: Duration (sec): 4.405, Start Time (sec): 18.294, End Time (sec): 22.699 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_009.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_009TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_009.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_009.mp4
Segment 009 out of 19 , saved in (sec): 3.84. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_009.mp4

Segment 10 out of 19: Duration (sec): 1.441, Start Time (sec): 24.021, End Time (sec): 25.462 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_010.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_010TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_010.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_010.mp4
Segment 010 out of 19 , saved in (sec): 1.36. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_010.mp4

Segment 11 out of 19: Duration (sec): 0.701, Start Time (sec): 25.462, End Time (sec): 26.163 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_011.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_011TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_011.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_011.mp4
Segment 011 out of 19 , saved in (sec): 0.58. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_011.mp4

Segment 12 out of 19: Duration (sec): 1.422, Start Time (sec): 26.203, End Time (sec): 27.625 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_012.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_012TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_012.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_012.mp4
Segment 012 out of 19 , saved in (sec): 1.47. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_012.mp4

Segment 13 out of 19: Duration (sec): 3.040, Start Time (sec): 28.229, End Time (sec): 31.269 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_013.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_013TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_013.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_013.mp4
Segment 013 out of 19 , saved in (sec): 3.11. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_013.mp4

Segment 14 out of 19: Duration (sec): 1.550, Start Time (sec): 31.289, End Time (sec): 32.839 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_014.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_014TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_014.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_014.mp4
Segment 014 out of 19 , saved in (sec): 1.45. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_014.mp4

Segment 15 out of 19: Duration (sec): 5.452, Start Time (sec): 45.205, End Time (sec): 50.657 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_015.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_015TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_015.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_015.mp4
Segment 015 out of 19 , saved in (sec): 5.36. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_015.mp4

Segment 16 out of 19: Duration (sec): 4.991, Start Time (sec): 51.379, End Time (sec): 56.370 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_016.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_016TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_016.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_016.mp4
Segment 016 out of 19 , saved in (sec): 3.60. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_016.mp4

Segment 17 out of 19: Duration (sec): 4.050, Start Time (sec): 56.390, End Time (sec): 60.440 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_017.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_017TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_017.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_017.mp4
Segment 017 out of 19 , saved in (sec): 3.82. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_017.mp4

Segment 18 out of 19: Duration (sec): 1.263, Start Time (sec): 61.241, End Time (sec): 62.504 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_018.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_018TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_018.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_018.mp4
Segment 018 out of 19 , saved in (sec): 1.41. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_018.mp4

Segment 19 out of 19: Duration (sec): 3.107, Start Time (sec): 63.246, End Time (sec): 66.353 - processing it...
MoviePy - Building video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_019.mp4.
MoviePy - Writing audio in 1_Bugs_Life_original_diarization_segment_019TEMP_MPY_wvf_snd.mp3
MoviePy - Done.                                                                                                                                                                 
MoviePy - Writing video /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_019.mp4

MoviePy - Done !                                                                                                                                                                
MoviePy - video ready /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_019.mp4
Segment 019 out of 19 , saved in (sec): 3.20. to file: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_segment_019.mp4

Finished media chunking in 43.11 seconds.

Stage: Processing the emotions after: diarization; visualizing the emotions in terminal and as a static HTML file with a plotly graph
This stage should be relatively quick. The files for the emotion detection model (the 'electronic brain' behind it all) may be downloaded now, too. Go and take a coffee then.





Emotion detection of the chunks listed in: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_media_chunks.scp...
We are passing this list of files in the Kaldi format to the model: /home/zezen/Videos/Videos_on_P7/Watch_me/SRT/Good/2_Bug's_Life/1_Bugs_Life_original.mp4_emotions_detected/1_Bugs_Life_original_diarization_media_chunks.scp
Running in online mode. Model will be downloaded if not in cache.
Attempting to load model online: iic/emotion2vec_plus_large
funasr version: 1.2.7.
Check update of funasr, and it would cost few times. You may disable it by set `disable_update=True` in AutoModel
You are using the latest version of funasr-1.2.7
Download: iic/emotion2vec_plus_large failed!: Cannot import available module of __wrapped__ in modelscope, or related packages(['transformers', 'peft', 'diffusers'])
WARNING:root:trust_remote_code: False
Traceback (most recent call last):
  File "/home/zezen/Downloads/GitHub/Ubuntu_Scripts_1/ai_ml/emotion_detector_funasr_whisperx_plotly.py", line 2221, in <module>
    process_stage("diarization")
  File "/home/zezen/Downloads/GitHub/Ubuntu_Scripts_1/ai_ml/emotion_detector_funasr_whisperx_plotly.py", line 1887, in process_stage
    display_result_temp_html(pass_name, language_code, funasr_model_name)  # Display diarization results
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/zezen/Downloads/GitHub/Ubuntu_Scripts_1/ai_ml/emotion_detector_funasr_whisperx_plotly.py", line 1309, in display_result_temp_html
    model = AutoModel(model=funasr_model_name, device=device, disable_update=False)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/zezen/.local/lib/python3.12/site-packages/funasr/auto/auto_model.py", line 125, in __init__
    model, kwargs = self.build_model(**kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/zezen/.local/lib/python3.12/site-packages/funasr/auto/auto_model.py", line 264, in build_model
    assert model_class is not None, f'{kwargs["model"]} is not registered'
           ^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: iic/emotion2vec_plus_large is not registered
zezen@above-hp2-silver:~/Downloads/GitHub/audioset_tagging_cnn$ 

